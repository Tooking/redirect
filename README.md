# Редирект из Telegram во внешний браузер

При нажатии на ссылку происходит редирект на целевую страницу. Чтобы ссылка открывалась **во внешнем браузере (Safari)** по одному нажатию, используется обходной путь через настройку Telegram.

---

## Обходной путь: открытие по одному нажатию во внешнем браузере

1. **Пользователь** один раз настраивает Telegram:  
   **Настройки** → **Данные и память** → **Открывать ссылки в** → выбрать **«Внешний браузер»** (или **Safari**).

2. **Бот** отправляет ссылку на **вашу** страницу редиректа, например:  
   `https://ваш-сайт.com/redirect.php?url=https://целевой-сайт.com`  
   или  
   `https://ваш-сайт.com/?url=https://целевой-сайт.com`

3. Пользователь **нажимает** на ссылку → Telegram открывает её **во внешнем браузере** (из‑за настройки) → загружается ваша страница → **редирект** на целевую ссылку.

Итог: одно нажатие → открытие во внешнем браузере → редирект на нужный URL.

---

## Целевая ссылка

- **Одна ссылка для всего:** в `config.js` задайте `defaultUrl`.
- **Разные ссылки:** добавьте параметр в URL:  
  `?url=https://целевой-сайт.com` (поддерживаются также `to` и `u`).

## Варианты редиректа

- **redirect.php** — серверный редирект 302, без отображения страницы.  
  Ссылка для бота: `https://ваш-сайт.com/redirect.php?url=https://целевой-сайт.com`

- **index.html** — редирект через JS после загрузки страницы.  
  Ссылка для бота: `https://ваш-сайт.com/?url=https://целевой-сайт.com`

## Mini App (альтернатива)

Если страница открывается как **Telegram Mini App** (кнопка Web App), по нажатию на кнопку «Открыть» вызывается `openLink()` и целевая ссылка открывается во внешнем браузере (без настройки «Открывать ссылки в»).
